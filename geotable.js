var geojsonFeature = [];

var jsonDatas = [{
    "ZIP_CODE": "10014",
    "sale_price_count": "6",
    "LAT": "40.734012",
    "LNG": "-74.006746"
  }, {
    "ZIP_CODE": "11368",
    "sale_price_count": "467",
    "LAT": "40.751718",
    "LNG": "-73.851822"
  }, {
    "ZIP_CODE": "11373",
    "sale_price_count": "485",
    "LAT": "40.738837",
    "LNG": "-73.878535"
  }, {
    "ZIP_CODE": "11429",
    "sale_price_count": "214",
    "LAT": "40.709766",
    "LNG": "-73.738653"
  }, {
    "ZIP_CODE": "11423",
    "sale_price_count": "236",
    "LAT": "40.715606",
    "LNG": "-73.768471"
  }, {
    "ZIP_CODE": "11428",
    "sale_price_count": "162",
    "LAT": "40.721016",
    "LNG": "-73.742245"
  }, {
    "ZIP_CODE": "11412",
    "sale_price_count": "400",
    "LAT": "40.698095",
    "LNG": "-73.758986"
  }, {
    "ZIP_CODE": "11427",
    "sale_price_count": "199",
    "LAT": "40.730904",
    "LNG": "-73.745661"
  }, {
    "ZIP_CODE": "11432",
    "sale_price_count": "376",
    "LAT": "40.715359",
    "LNG": "-73.793071"
  }, {
    "ZIP_CODE": "11433",
    "sale_price_count": "310",
    "LAT": "40.698162",
    "LNG": "-73.786893"
  }, {
    "ZIP_CODE": "10463",
    "sale_price_count": "506",
    "LAT": "40.880678",
    "LNG": "-73.90654"
  }, {
    "ZIP_CODE": "10034",
    "sale_price_count": "5",
    "LAT": "40.867076",
    "LNG": "-73.924312"
  }, {
    "ZIP_CODE": "10314",
    "sale_price_count": "850",
    "LAT": "40.599263",
    "LNG": "-74.165748"
  }, {
    "ZIP_CODE": "11691",
    "sale_price_count": "337",
    "LAT": "40.601278",
    "LNG": "-73.761651"
  }, {
    "ZIP_CODE": "11692",
    "sale_price_count": "118",
    "LAT": "40.594095",
    "LNG": "-73.792896"
  }, {
    "ZIP_CODE": "11102",
    "sale_price_count": "183",
    "LAT": "40.772884",
    "LNG": "-73.926295"
  }, {
    "ZIP_CODE": "11105",
    "sale_price_count": "150",
    "LAT": "40.778877",
    "LNG": "-73.906769"
  }, {
    "ZIP_CODE": "11103",
    "sale_price_count": "97",
    "LAT": "40.762574",
    "LNG": "-73.913447"
  }, {
    "ZIP_CODE": "11377",
    "sale_price_count": "209",
    "LAT": "40.744819",
    "LNG": "-73.905156"
  }, {
    "ZIP_CODE": "11106",
    "sale_price_count": "318",
    "LAT": "40.762211",
    "LNG": "-73.931528"
  }, {
    "ZIP_CODE": "11370",
    "sale_price_count": "168",
    "LAT": "40.765393",
    "LNG": "-73.893243"
  }, {
    "ZIP_CODE": "11101",
    "sale_price_count": "347",
    "LAT": "40.747155",
    "LNG": "-73.93975"
  }, {
    "ZIP_CODE": "11360",
    "sale_price_count": "400",
    "LAT": "40.780379",
    "LNG": "-73.78123"
  }, {
    "ZIP_CODE": "11364",
    "sale_price_count": "503",
    "LAT": "40.745289",
    "LNG": "-73.760586"
  }, {
    "ZIP_CODE": "11361",
    "sale_price_count": "331",
    "LAT": "40.764191",
    "LNG": "-73.772775"
  }, {
    "ZIP_CODE": "11358",
    "sale_price_count": "335",
    "LAT": "40.760471",
    "LNG": "-73.796371"
  }, {
    "ZIP_CODE": "11357",
    "sale_price_count": "479",
    "LAT": "40.786393",
    "LNG": "-73.810864"
  }, {
    "ZIP_CODE": "10458",
    "sale_price_count": "120",
    "LAT": "40.862543",
    "LNG": "-73.888143"
  }, {
    "ZIP_CODE": "10460",
    "sale_price_count": "140",
    "LAT": "40.841758",
    "LNG": "-73.879571"
  }, {
    "ZIP_CODE": "10011",
    "sale_price_count": "7",
    "LAT": "40.742039",
    "LNG": "-74.00062"
  }, {
    "ZIP_CODE": "10001",
    "sale_price_count": "2",
    "LAT": "40.750633",
    "LNG": "-73.997177"
  }, {
    "ZIP_CODE": "10036",
    "sale_price_count": "1",
    "LAT": "40.75926",
    "LNG": "-73.98986"
  }, {
    "ZIP_CODE": "10019",
    "sale_price_count": "94",
    "LAT": "40.765823",
    "LNG": "-73.987169"
  }, {
    "ZIP_CODE": "10304",
    "sale_price_count": "397",
    "LAT": "40.609227",
    "LNG": "-74.092575"
  }, {
    "ZIP_CODE": "10018",
    "sale_price_count": "1",
    "LAT": "40.755319",
    "LNG": "-73.993114"
  }, {
    "ZIP_CODE": "10457",
    "sale_price_count": "139",
    "LAT": "40.84715",
    "LNG": "-73.89868"
  }, {
    "ZIP_CODE": "10453",
    "sale_price_count": "68",
    "LAT": "40.852779",
    "LNG": "-73.912332"
  }, {
    "ZIP_CODE": "10468",
    "sale_price_count": "113",
    "LAT": "40.868093",
    "LNG": "-73.89973"
  }, {
    "ZIP_CODE": "11231",
    "sale_price_count": "334",
    "LAT": "40.677916",
    "LNG": "-74.005154"
  }, {
    "ZIP_CODE": "11215",
    "sale_price_count": "709",
    "LAT": "40.662688",
    "LNG": "-73.98674"
  }, {
    "ZIP_CODE": "11217",
    "sale_price_count": "376",
    "LAT": "40.682306",
    "LNG": "-73.978099"
  }, {
    "ZIP_CODE": "11232",
    "sale_price_count": "207",
    "LAT": "40.656546",
    "LNG": "-74.007355"
  }, {
    "ZIP_CODE": "11693",
    "sale_price_count": "109",
    "LAT": "40.590692",
    "LNG": "-73.809749"
  }, {
    "ZIP_CODE": "11435",
    "sale_price_count": "370",
    "LAT": "40.701265",
    "LNG": "-73.809605"
  }, {
    "ZIP_CODE": "11229",
    "sale_price_count": "900",
    "LAT": "40.601293",
    "LNG": "-73.944493"
  }, {
    "ZIP_CODE": "11223",
    "sale_price_count": "602",
    "LAT": "40.597139",
    "LNG": "-73.973428"
  }, {
    "ZIP_CODE": "11378",
    "sale_price_count": "268",
    "LAT": "40.724744",
    "LNG": "-73.909639"
  }, {
    "ZIP_CODE": "11379",
    "sale_price_count": "291",
    "LAT": "40.716748",
    "LNG": "-73.879601"
  }, {
    "ZIP_CODE": "11385",
    "sale_price_count": "398",
    "LAT": "40.700671",
    "LNG": "-73.889433"
  }, {
    "ZIP_CODE": "11230",
    "sale_price_count": "603",
    "LAT": "40.622164",
    "LNG": "-73.965105"
  }, {
    "ZIP_CODE": "11210",
    "sale_price_count": "534",
    "LAT": "40.628147",
    "LNG": "-73.946324"
  }, {
    "ZIP_CODE": "10306",
    "sale_price_count": "658",
    "LAT": "40.571768",
    "LNG": "-74.12595"
  }, {
    "ZIP_CODE": "11224",
    "sale_price_count": "319",
    "LAT": "40.577372",
    "LNG": "-73.988706"
  }, {
    "ZIP_CODE": "10013",
    "sale_price_count": "220",
    "LAT": "40.720103",
    "LNG": "-74.004903"
  }, {
    "ZIP_CODE": "10007",
    "sale_price_count": "12",
    "LAT": "40.713848",
    "LNG": "-74.007755"
  }, {
    "ZIP_CODE": "10280",
    "sale_price_count": "1",
    "LAT": "40.708538",
    "LNG": "-74.01665"
  }, {
    "ZIP_CODE": "10309",
    "sale_price_count": "399",
    "LAT": "40.531346",
    "LNG": "-74.219857"
  }, {
    "ZIP_CODE": "10312",
    "sale_price_count": "766",
    "LAT": "40.545237",
    "LNG": "-74.180443"
  }, {
    "ZIP_CODE": "10305",
    "sale_price_count": "446",
    "LAT": "40.596691",
    "LNG": "-74.074866"
  }, {
    "ZIP_CODE": "10456",
    "sale_price_count": "126",
    "LAT": "40.829881",
    "LNG": "-73.90812"
  }, {
    "ZIP_CODE": "11237",
    "sale_price_count": "230",
    "LAT": "40.70416",
    "LNG": "-73.921139"
  }, {
    "ZIP_CODE": "11221",
    "sale_price_count": "720",
    "LAT": "40.69134",
    "LNG": "-73.927879"
  }, {
    "ZIP_CODE": "11207",
    "sale_price_count": "810",
    "LAT": "40.670747",
    "LNG": "-73.894209"
  }, {
    "ZIP_CODE": "11206",
    "sale_price_count": "447",
    "LAT": "40.701954",
    "LNG": "-73.942358"
  }, {
    "ZIP_CODE": "11236",
    "sale_price_count": "775",
    "LAT": "40.639413",
    "LNG": "-73.900664"
  }, {
    "ZIP_CODE": "11204",
    "sale_price_count": "682",
    "LAT": "40.618779",
    "LNG": "-73.984826"
  }, {
    "ZIP_CODE": "11239",
    "sale_price_count": "62",
    "LAT": "40.647735",
    "LNG": "-73.879477"
  }, {
    "ZIP_CODE": "11372",
    "sale_price_count": "526",
    "LAT": "40.75169",
    "LNG": "-73.883638"
  }, {
    "ZIP_CODE": "10003",
    "sale_price_count": "4",
    "LAT": "40.731829",
    "LNG": "-73.989181"
  }, {
    "ZIP_CODE": "10010",
    "sale_price_count": "1",
    "LAT": "40.739065",
    "LNG": "-73.982255"
  }, {
    "ZIP_CODE": "11375",
    "sale_price_count": "995",
    "LAT": "40.720934",
    "LNG": "-73.846151"
  }, {
    "ZIP_CODE": "11421",
    "sale_price_count": "327",
    "LAT": "40.694062",
    "LNG": "-73.858626"
  }, {
    "ZIP_CODE": "10016",
    "sale_price_count": "2",
    "LAT": "40.745224",
    "LNG": "-73.978297"
  }, {
    "ZIP_CODE": "11694",
    "sale_price_count": "137",
    "LAT": "40.57827",
    "LNG": "-73.844762"
  }, {
    "ZIP_CODE": "11422",
    "sale_price_count": "239",
    "LAT": "40.66006",
    "LNG": "-73.736012"
  }, {
    "ZIP_CODE": "11413",
    "sale_price_count": "416",
    "LAT": "40.671659",
    "LNG": "-73.752568"
  }, {
    "ZIP_CODE": "10470",
    "sale_price_count": "140",
    "LAT": "40.88953",
    "LNG": "-73.872662"
  }, {
    "ZIP_CODE": "11209",
    "sale_price_count": "644",
    "LAT": "40.621982",
    "LNG": "-74.030324"
  }, {
    "ZIP_CODE": "11220",
    "sale_price_count": "568",
    "LAT": "40.641221",
    "LNG": "-74.016862"
  }, {
    "ZIP_CODE": "11228",
    "sale_price_count": "448",
    "LAT": "40.616695",
    "LNG": "-74.013047"
  }, {
    "ZIP_CODE": "11219",
    "sale_price_count": "679",
    "LAT": "40.632667",
    "LNG": "-73.996669"
  }, {
    "ZIP_CODE": "11426",
    "sale_price_count": "219",
    "LAT": "40.736425",
    "LNG": "-73.722376"
  }, {
    "ZIP_CODE": "11004",
    "sale_price_count": "180",
    "LAT": "40.746204",
    "LNG": "-73.711478"
  }, {
    "ZIP_CODE": "11001",
    "sale_price_count": "44",
    "LAT": "40.723317",
    "LNG": "-73.704949"
  }, {
    "ZIP_CODE": "10467",
    "sale_price_count": "345",
    "LAT": "40.869953",
    "LNG": "-73.865746"
  }, {
    "ZIP_CODE": "10469",
    "sale_price_count": "485",
    "LAT": "40.868607",
    "LNG": "-73.848133"
  }, {
    "ZIP_CODE": "10471",
    "sale_price_count": "292",
    "LAT": "40.898868",
    "LNG": "-73.903328"
  }, {
    "ZIP_CODE": "11234",
    "sale_price_count": "1157",
    "LAT": "40.60508",
    "LNG": "-73.911721"
  }, {
    "ZIP_CODE": "11040",
    "sale_price_count": "31",
    "LAT": "40.745347",
    "LNG": "-73.680292"
  }, {
    "ZIP_CODE": "11005",
    "sale_price_count": "165",
    "LAT": "40.756596",
    "LNG": "-73.714178"
  }, {
    "ZIP_CODE": "11214",
    "sale_price_count": "704",
    "LAT": "40.599148",
    "LNG": "-73.99609"
  }, {
    "ZIP_CODE": "11367",
    "sale_price_count": "495",
    "LAT": "40.730145",
    "LNG": "-73.82703"
  }, {
    "ZIP_CODE": "11411",
    "sale_price_count": "189",
    "LAT": "40.694021",
    "LNG": "-73.736216"
  }, {
    "ZIP_CODE": "11205",
    "sale_price_count": "449",
    "LAT": "40.694696",
    "LNG": "-73.966286"
  }, {
    "ZIP_CODE": "11226",
    "sale_price_count": "394",
    "LAT": "40.646448",
    "LNG": "-73.956649"
  }, {
    "ZIP_CODE": "11374",
    "sale_price_count": "573",
    "LAT": "40.726418",
    "LNG": "-73.861526"
  }, {
    "ZIP_CODE": "10473",
    "sale_price_count": "351",
    "LAT": "40.81869",
    "LNG": "-73.858474"
  }, {
    "ZIP_CODE": "10472",
    "sale_price_count": "252",
    "LAT": "40.829556",
    "LNG": "-73.869336"
  }, {
    "ZIP_CODE": "10301",
    "sale_price_count": "293",
    "LAT": "40.627456",
    "LNG": "-74.094407"
  }, {
    "ZIP_CODE": "11104",
    "sale_price_count": "42",
    "LAT": "40.744634",
    "LNG": "-73.920201"
  }, {
    "ZIP_CODE": "10466",
    "sale_price_count": "495",
    "LAT": "40.890964",
    "LNG": "-73.846239"
  }, {
    "ZIP_CODE": "11418",
    "sale_price_count": "227",
    "LAT": "40.700272",
    "LNG": "-73.835971"
  }, {
    "ZIP_CODE": "10475",
    "sale_price_count": "26",
    "LAT": "40.875169",
    "LNG": "-73.823817"
  }, {
    "ZIP_CODE": "10303",
    "sale_price_count": "248",
    "LAT": "40.629885",
    "LNG": "-74.17413"
  }, {
    "ZIP_CODE": "11362",
    "sale_price_count": "355",
    "LAT": "40.756574",
    "LNG": "-73.737845"
  }, {
    "ZIP_CODE": "11363",
    "sale_price_count": "100",
    "LAT": "40.772616",
    "LNG": "-73.746526"
  }, {
    "ZIP_CODE": "11222",
    "sale_price_count": "365",
    "LAT": "40.72779",
    "LNG": "-73.947605"
  }, {
    "ZIP_CODE": "11211",
    "sale_price_count": "532",
    "LAT": "40.712597",
    "LNG": "-73.953098"
  }, {
    "ZIP_CODE": "11218",
    "sale_price_count": "634",
    "LAT": "40.643468",
    "LNG": "-73.976046"
  }, {
    "ZIP_CODE": "10310",
    "sale_price_count": "263",
    "LAT": "40.632648",
    "LNG": "-74.116148"
  }, {
    "ZIP_CODE": "11233",
    "sale_price_count": "561",
    "LAT": "40.678308",
    "LNG": "-73.919936"
  }, {
    "ZIP_CODE": "11212",
    "sale_price_count": "329",
    "LAT": "40.662936",
    "LNG": "-73.913029"
  }, {
    "ZIP_CODE": "11417",
    "sale_price_count": "259",
    "LAT": "40.676446",
    "LNG": "-73.844443"
  }, {
    "ZIP_CODE": "11416",
    "sale_price_count": "168",
    "LAT": "40.684654",
    "LNG": "-73.849548"
  }, {
    "ZIP_CODE": "11414",
    "sale_price_count": "466",
    "LAT": "40.657604",
    "LNG": "-73.844804"
  }, {
    "ZIP_CODE": "11420",
    "sale_price_count": "395",
    "LAT": "40.673583",
    "LNG": "-73.81773"
  }, {
    "ZIP_CODE": "11434",
    "sale_price_count": "529",
    "LAT": "40.676808",
    "LNG": "-73.776425"
  }, {
    "ZIP_CODE": "11201",
    "sale_price_count": "952",
    "LAT": "40.693682",
    "LNG": "-73.989693"
  }, {
    "ZIP_CODE": "10464",
    "sale_price_count": "60",
    "LAT": "40.867787",
    "LNG": "-73.79992"
  }, {
    "ZIP_CODE": "10462",
    "sale_price_count": "541",
    "LAT": "40.84328",
    "LNG": "-73.860389"
  }, {
    "ZIP_CODE": "11238",
    "sale_price_count": "745",
    "LAT": "40.679171",
    "LNG": "-73.963804"
  }, {
    "ZIP_CODE": "10308",
    "sale_price_count": "319",
    "LAT": "40.551884",
    "LNG": "-74.147646"
  }, {
    "ZIP_CODE": "10035",
    "sale_price_count": "12",
    "LAT": "40.795455",
    "LNG": "-73.929655"
  }, {
    "ZIP_CODE": "10029",
    "sale_price_count": "51",
    "LAT": "40.791763",
    "LNG": "-73.94397"
  }, {
    "ZIP_CODE": "10031",
    "sale_price_count": "19",
    "LAT": "40.825288",
    "LNG": "-73.950045"
  }, {
    "ZIP_CODE": "10027",
    "sale_price_count": "23",
    "LAT": "40.811407",
    "LNG": "-73.95306"
  }, {
    "ZIP_CODE": "10474",
    "sale_price_count": "36",
    "LAT": "40.810549",
    "LNG": "-73.884367"
  }, {
    "ZIP_CODE": "11415",
    "sale_price_count": "257",
    "LAT": "40.707917",
    "LNG": "-73.828212"
  }, {
    "ZIP_CODE": "11213",
    "sale_price_count": "357",
    "LAT": "40.671078",
    "LNG": "-73.936336"
  }, {
    "ZIP_CODE": "10465",
    "sale_price_count": "474",
    "LAT": "40.822615",
    "LNG": "-73.822239"
  }, {
    "ZIP_CODE": "10307",
    "sale_price_count": "169",
    "LAT": "40.509183",
    "LNG": "-74.237785"
  }, {
    "ZIP_CODE": "10461",
    "sale_price_count": "429",
    "LAT": "40.847381",
    "LNG": "-73.840584"
  }, {
    "ZIP_CODE": "10302",
    "sale_price_count": "214",
    "LAT": "40.630688",
    "LNG": "-74.137776"
  }, {
    "ZIP_CODE": "10032",
    "sale_price_count": "94",
    "LAT": "40.838815",
    "LNG": "-73.942836"
  }, {
    "ZIP_CODE": "10017",
    "sale_price_count": "1",
    "LAT": "40.75236",
    "LNG": "-73.972493"
  }, {
    "ZIP_CODE": "10022",
    "sale_price_count": "59",
    "LAT": "40.758628",
    "LNG": "-73.967948"
  }, {
    "ZIP_CODE": "11208",
    "sale_price_count": "733",
    "LAT": "40.669769",
    "LNG": "-73.871372"
  }, {
    "ZIP_CODE": "11356",
    "sale_price_count": "311",
    "LAT": "40.78485",
    "LNG": "-73.841279"
  }, {
    "ZIP_CODE": "11354",
    "sale_price_count": "1265",
    "LAT": "40.768208",
    "LNG": "-73.827403"
  }, {
    "ZIP_CODE": "11225",
    "sale_price_count": "265",
    "LAT": "40.663046",
    "LNG": "-73.954219"
  }, {
    "ZIP_CODE": "11216",
    "sale_price_count": "452",
    "LAT": "40.680768",
    "LNG": "-73.949316"
  }, {
    "ZIP_CODE": "11369",
    "sale_price_count": "289",
    "LAT": "40.763365",
    "LNG": "-73.872374"
  }, {
    "ZIP_CODE": "11203",
    "sale_price_count": "648",
    "LAT": "40.649591",
    "LNG": "-73.934371"
  }, {
    "ZIP_CODE": "11366",
    "sale_price_count": "171",
    "LAT": "40.728152",
    "LNG": "-73.785019"
  }, {
    "ZIP_CODE": "11365",
    "sale_price_count": "368",
    "LAT": "40.739634",
    "LNG": "-73.79449"
  }, {
    "ZIP_CODE": "11419",
    "sale_price_count": "246",
    "LAT": "40.688673",
    "LNG": "-73.822918"
  }, {
    "ZIP_CODE": "11436",
    "sale_price_count": "241",
    "LAT": "40.675807",
    "LNG": "-73.796622"
  }, {
    "ZIP_CODE": "11235",
    "sale_price_count": "1290",
    "LAT": "40.583949",
    "LNG": "-73.949096"
  }, {
    "ZIP_CODE": "11355",
    "sale_price_count": "741",
    "LAT": "40.751452",
    "LNG": "-73.821031"
  }, {
    "ZIP_CODE": "10030",
    "sale_price_count": "14",
    "LAT": "40.818267",
    "LNG": "-73.942856"
  }, {
    "ZIP_CODE": "10026",
    "sale_price_count": "6",
    "LAT": "40.802381",
    "LNG": "-73.952681"
  }, {
    "ZIP_CODE": "10039",
    "sale_price_count": "1",
    "LAT": "40.830867",
    "LNG": "-73.936218"
  }, {
    "ZIP_CODE": "11109",
    "sale_price_count": "31",
    "LAT": "40.745115",
    "LNG": "-73.956928"
  }, {
    "ZIP_CODE": "10025",
    "sale_price_count": "695",
    "LAT": "40.798601",
    "LNG": "-73.966622"
  }, {
    "ZIP_CODE": "10451",
    "sale_price_count": "96",
    "LAT": "40.820479",
    "LNG": "-73.925084"
  }, {
    "ZIP_CODE": "10452",
    "sale_price_count": "56",
    "LAT": "40.837393",
    "LNG": "-73.923437"
  }, {
    "ZIP_CODE": "10455",
    "sale_price_count": "46",
    "LAT": "40.81471",
    "LNG": "-73.908593"
  }, {
    "ZIP_CODE": "10459",
    "sale_price_count": "125",
    "LAT": "40.825867",
    "LNG": "-73.892942"
  }, {
    "ZIP_CODE": "10454",
    "sale_price_count": "55",
    "LAT": "40.805489",
    "LNG": "-73.916585"
  }, {
    "ZIP_CODE": "10065",
    "sale_price_count": "564",
    "LAT": "40.764612",
    "LNG": "-73.963122"
  }, {
    "ZIP_CODE": "10021",
    "sale_price_count": "702",
    "LAT": "40.769258",
    "LNG": "-73.958751"
  }, {
    "ZIP_CODE": "10075",
    "sale_price_count": "534",
    "LAT": "40.773361",
    "LNG": "-73.956216"
  }, {
    "ZIP_CODE": "10128",
    "sale_price_count": "744",
    "LAT": "40.781432",
    "LNG": "-73.950013"
  }, {
    "ZIP_CODE": "10028",
    "sale_price_count": "528",
    "LAT": "40.776441",
    "LNG": "-73.953509"
  }, {
    "ZIP_CODE": "10024",
    "sale_price_count": "774",
    "LAT": "40.798452",
    "LNG": "-73.974428"
  }, {
    "ZIP_CODE": "10023",
    "sale_price_count": "1012",
    "LAT": "40.775921",
    "LNG": "-73.982607"
  }, {
    "ZIP_CODE": "10069",
    "sale_price_count": "162",
    "LAT": "40.775906",
    "LNG": "-73.990358"
  }, {
    "ZIP_CODE": "10803",
    "sale_price_count": "1",
    "LAT": "40.900458",
    "LNG": "-73.807138"
  }, {
    "ZIP_CODE": "10033",
    "sale_price_count": "159",
    "LAT": "40.850545",
    "LNG": "-73.933983"
  }, {
    "ZIP_CODE": "10040",
    "sale_price_count": "108",
    "LAT": "40.858305",
    "LNG": "-73.930549"
  }, {
    "ZIP_CODE": "10012",
    "sale_price_count": "1",
    "LAT": "40.725581",
    "LNG": "-73.998078"
  }]

for (var i = 0; i < jsonDatas.length; i++) {
  var feature = {
    "type": "Feature",
    "properties": {
      "ZIP_CODE": jsonDatas[i].ZIP_CODE,
      "sale_price_count": jsonDatas[i].sale_price_count
    },
    "geometry": {
      "type": "Point",
      "coordinates": [parseFloat(jsonDatas[i].LNG), parseFloat(jsonDatas[i].LAT)]
    }
  };
  geojsonFeature.push(feature);
}

var geojsonFeatureCollection = {
  "type": "FeatureCollection",
  "features": geojsonFeature
};

var map = L.map('mapid').setView([40.7, -73.9], 11);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

var geojsonMarkerOptions = {
  radius: 8,
  fillColor: "#ff0000",
  color: "#000",
  weight: 1,
  opacity: 1,
  fillOpacity: 0.8
};

var geojsonLayer = L.geoJson(geojsonFeatureCollection, {
  pointToLayer: function(feature, latlng) {
    var marker = L.circleMarker(latlng, geojsonMarkerOptions);
    marker.bindPopup("ZIP: " + feature.properties.ZIP_CODE + "<br>Sales Count: " + feature.properties.sale_price_count);
    return marker;
  }
});

geojsonLayer.addTo(map);

// Function to adjust marker radius based on sales count
function getColor(d) {
  return d > 500 ? '#800026' :
         d > 200 ? '#BD0026' :
         d > 100 ? '#E31A1C' :
         d > 50  ? '#FC4E2A' :
                    '#FFEDA0';
}

function style(feature) {
    return {
        fillColor: getColor(feature.properties.sale_price_count),
        fillOpacity: 0.5,
        weight: 2,
        opacity: 1,
        color: 'white',
        dashArray: '3'
    };
}

geojsonLayer.setStyle(style);

// Legend
var legend = L
